      - name: Checkout Repo
        uses: actions/checkout@v4

      - name: Smart Unzip (Busca cualquier ZIP)
        run: |
          echo "Buscando archivos ZIP en el repositorio..."
          ls -la
          
          # Busca el primer archivo .zip que encuentre
          ZIP_FILE=$(ls *.zip | head -n 1)
          
          if [ -z "$ZIP_FILE" ]; then
            echo "ERROR: No hay ningún archivo .zip en tu repositorio."
            echo "¿Subiste el archivo a GitHub?"
            exit 1
          fi
          
          echo "Archivo encontrado: $ZIP_FILE"
          echo "Descomprimiendo..."
          unzip -o "$ZIP_FILE"
          
          # Aplanar carpeta si es necesario
          SUBDIR=$(ls -d */ | head -1)
          if [ ! -z "$SUBDIR" ]; then
            echo "Moviendo archivos de subcarpeta..."
            mv $SUBDIR* .
            mv $SUBDIR.[!.]* . 2>/dev/null || true
            rm -rf $SUBDIR
          fi
          
          chmod +x gradlew
          ls -la
